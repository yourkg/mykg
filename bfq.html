
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>基于flv.js播放器</title>
	<script src="https://cdn.bootcss.com/flv.js/1.4.2/flv.min.js"></script>
	<style>
		*{
			margin: 0;padding: 0;
		}
		.kpp{
			text-align:center;  
		}
	</style>
</head>
<body>	
	<div class="kpp">
                <div>
		添加文件-><input type="file" id="ppk" onchange="ak(this)">
	</div>
		<video id="videoElement" controls onfocus="ak()"width="60%" height="50%" ></video>
	</div>
</body>
<script>
	function ak(e){
    if (flvjs.isSupported()) {
    	var urlkg=document.getElementById('ppk').value;
    	var gk1=urlkg.lastIndexOf('\\'),gk2=urlkg.lastIndexOf('.');
        var videoElement = document.getElementById('videoElement');
        var flvPlayer = flvjs.createPlayer({
            type: urlkg.substr(gk2+1),
            url: window.URL.createObjectURL(e.files[0])
        });
        flvPlayer.attachMediaElement(videoElement);
        flvPlayer.load();
        flvPlayer.play();
    }}
</script>
</html>